# 姿态估计(关键点检测)

常见的关键点有17个

## 主要评价标准

1. PCK的评价标准多出现在单人的姿态估计上

2. 多人的姿态估计评价标准基本上为mAP.

   在人体骨骼关键点检测任务中, 我们使用OKS(object keypoint similarity)代替IoU, 对选手预测的人体骨骼关键点位置与真实标注之间的相似性进行打分.



## 数据集

1. MPII(MPII human pose dataset): 单人/多人人体关键点检测数据集, 关键点个数为16, 样本量为25K, 是单人人体关键点检测的主要数据.
2. MSCOCO: 多人人体关键点检测数据, 关键点个数为17, 样本来多余20W, 多人关键点检测的主要数据集.
3. Human3.6M: 是3D人体姿势估计的最大数据, 由360万个姿势和相应的视频帧组成.



## 发展脉络

1. 2015年, 直接对关键点坐标做精确回归
2. 2017年, 由关键点坐标+Headmap做预测的过程
3. 2018年, 多人姿态估计占主流

![image-20211031151923647](E:\kuisu\typora\深度学习资料\关键点检测\姿态估计(关键点检测)-介绍.assets\keypoints.png)

![image-20211031152316807](E:\kuisu\typora\深度学习资料\关键点检测\姿态估计(关键点检测)-介绍.assets\发展脉络.png)

## 深度学习方法

1. 直接回归坐标(deep Pose)

   - CNN多阶段回归模型

   - CNN多阶段反馈回归模型

     ![image-20211031152836415](E:\kuisu\typora\深度学习资料\关键点检测\姿态估计(关键点检测)-介绍.assets\image-20211031152836415-16356653176963.png)

   - 改进

     让网络学习到多阶段的反馈(误差迭代反馈模型)

     让模型知道更多的先验知识(双源CNN)

2. 通过热力图回归坐标(CPM, Hourlgass)

   - CNN+图模型(pairwise relation, tree structure relation)

   - CNN多阶段回归模型*检测模型+回归模型

   - ![image-20211031153114070](E:\kuisu\typora\深度学习资料\关键点检测\姿态估计(关键点检测)-介绍.assets\image-20211031153114070.png)

   - 将CNN整合Pose Machines

   - 全卷积网络序列化组成, 重复输出每个关键点的2D置信度

     ![image-20211031153446780](E:\kuisu\typora\深度学习资料\关键点检测\姿态估计(关键点检测)-介绍.assets\image-20211031153446780-16356656877094.png)

   - 改进

     人的尺度不一样, 如何让模型学习到关键点之间的关系(CNN+图像金字塔)

     人关键点存在联系, 能不能用树模型对关键点进行建模(CNN+树结构模型)

     关键点图建模复杂, 如何提高效率(CNN卷积姿机)

   

## 多人姿态估计:

1. 自上而下(Top-Down): 目标检测和单人人体骨骼关键点检测

2. 自下而下(Bottom-Up): 关键点检测和关键点聚类

   ![image-20211031154101260](E:\kuisu\typora\深度学习资料\关键点检测\姿态估计(关键点检测)-介绍.assets\image-20211031154101260.png)



## Face关键点检测

网络结构

![image-20211031160305897](E:\kuisu\typora\深度学习资料\关键点检测\姿态估计(关键点检测)-介绍.assets\image-20211031160305897.png)

预测17个heatmap

使用online hard keypoints mining

第一阶段网络(FPN )

![image-20211031161242439](E:\kuisu\typora\深度学习资料\关键点检测\姿态估计(关键点检测)-介绍.assets\image-20211031161242439.png)

第二阶段

![image-20211031161347998](E:\kuisu\typora\深度学习资料\关键点检测\姿态估计(关键点检测)-介绍.assets\image-20211031161347998.png)

![image-20211031161442606](E:\kuisu\typora\深度学习资料\关键点检测\姿态估计(关键点检测)-介绍.assets\image-20211031161442606.png)

## 参考

[哔哩哔哩-七月姿态估计视频讲解]